knitr::opts_chunk$set(eval = TRUE,
fig.align = "center",
warning = FALSE,
message = FALSE)
library(readr)
iris = read_table("Iris.txt")
knitr::kable(head(iris))
iris = read_table("Iris.txt", delim = "\t")
iris = read_delim("Iris.txt", delim = "\t")
knitr::kable(head(iris))
knitr::kable(head(iris, 10))
```{r graph, fig.cap = "Répartition des expèces des individus selon la longueur de sépale", echo = FALSE}
par(mar = c(4, 4, 2, 0) + .1, font.lab = 3)
couleurs = c("orange", "seagreen", "steelblue")
boxplot(Sepal.Length ~ Species, data = iris,
col = couleurs,
main = "Influence de l'espèce sur le sépale",
ylab = "Longueur du sépale (en cm)",
xlab = "Type d'iris")
ggplot(iris, aes(Species, `Sepal Length`)) +
geom_boxplot()
library(ggplot2)
library(tidyverse)
ggplot(iris, aes(Species, `Sepal Length`)) +
geom_boxplot()
??meso
??plankton
??algue
??vegan
library(vegan)
data()
environmental
dune
vegan::dune
data("dune")
dune
data("dune.env")
dune.env
data("varechem")
varechem
?varechem
a = 12
setwd("~/Downloads")
library(tidyverse)
donnees = read_csv("statistiques-de-controle-des-peches.csv")
View(donnees)
seg = read_csv("segments-de-flotte.csv")
View(seg)
seg %>%
group_by(segment) %>%
summarise(n = n())
seg %>%
group_by(segment) %>%
summarise(n = n()) %>%
arrange(desc(n))
donnees %>%
group_by(segment) %>%
summarise(n = n()) %>%
arrange(desc(n))
donnees %>%
group_by(segment) %>%
summarise(n = n()) %>%
arrange(desc(n)) %>%
head(5) -> topseg
seg %>%
filter(segment %in% topseg$segment)
seg %>%
filter(segment %in% topseg$segment) %>%
View()
seg %>%
select(segment, segment_name) %>%
distinct()
seg %>%
select(segment, segment_name) %>%
distinct() %>%
View()
donnees %>%
group_by(segment) %>%
summarise(n = n()) %>%
arrange(desc(n)) %>%
head(5) -> topseg
topseg
donnees %>%
filter(segment %in% c("PEL03", "SWW01/02/03", "NWW01/02")) %>%
group_by(segment, year) %>%
summarise(n = n())
donnees %>%
filter(segment %in% c("PEL03", "SWW01/02/03", "NWW01/02")) %>%
group_by(segment, control_year) %>%
summarise(n = n())
donnees %>%
filter(segment %in% c("PEL03", "SWW01/02/03", "NWW01/02")) %>%
group_by(segment, control_year) %>%
summarise(n = n()) %>%
ggplot(aes(control_year, n, color = segment)) +
geom_line()
donnees %>%
filter(segment %in% c("PEL03", "SWW01/02/03", "NWW01/02")) %>%
filter(control_year < 2025) %>%
group_by(segment, control_year) %>%
summarise(n = n()) %>%
ggplot(aes(control_year, n, color = segment)) +
geom_line()
data(p)
data()
??plankton
??algue
??vegan
data(dune)
data(vegan::dune)
library(vegan)
data(dune)
dune
data(BCI, BCI.env)
head(BCI.env)
BCI
data(dune.env)
dune.env
date(varechem)
data(varechem)
varchem
varechem
data(varespec)
varespec
setwd("~/Documents/GitHub/cours-2024-2025/intechmer-2a-stat-desc")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
donnees = read_excel("Exploitations_Basse-normandie.xls",
sheet = 2) # ou sheet = "nom_feuille"
donnees
donnees %>%
summarise(
DateMin = min(`Date de pêche`),
DateMax = max(`Date de pêche`)
)
donnees %>%
summarise(
DateMin = min(`Date de pêche`),
DateMax = max(`Date de pêche`)
) %>%
t()
donnees %>%
summarise(
DateMin = min(`Date de pêche`),
DateMax = max(`Date de pêche`)
) %>%
t() %>%
knitr::kable()
donnees %>%
summarise(
DateMin = min(`Date de pêche`),
DateMax = max(`Date de pêche`),
NbStationsSANDRE = n_distinct(`Code station Sandre`),
NbStationsONEMA = n_distinct(`Code station Onema`),
NbEspeces = n_distinct(`Nom usuel de l'espèce`)
) %>%
t() %>%
knitr::kable()
ggplot(donnees, aes(y = `Nom usuel de l'espèce`)) +
geom_bar()
ggplot(donnees, aes(y = fct_reorder(`Nom usuel de l'espèce`)) +
)
ggplot(donnees, aes(y = fct_reorder(`Nom usuel de l'espèce`))) +
geom_bar()
ggplot(donnees, aes(y = fct_reorder(`Nom usuel de l'espèce`, count))) +
geom_bar()
?fct_reorder
ggplot(donnees, aes(y = fct_reorder(`Nom usuel de l'espèce`, `Nom usuel de l'espèce`, count))) +
geom_bar()
ggplot(donnees, aes(y = fct_reorder(`Nom usuel de l'espèce`, `Nom usuel de l'espèce`, nrow))) +
geom_bar()
ggplot(donnees, aes(y = fct_infreq(`Nom usuel de l'espèce`))) +
geom_bar()
?fct_infreq
ggplot(donnees, aes(y = fct_infreq(`Nom usuel de l'espèce`))) +
geom_bar() +
coord_flip()
ggplot(donnees, aes(y = fct_rev(fct_infreq(`Nom usuel de l'espèce`)))) +
geom_bar()
ggplot(donnees, aes(y = `Nom usuel de l'espèce`)) +
geom_bar()
min(donnees$`Date de pêche`)
length(unique(donnees$`Code station Sandre`)))
length(unique(donnees$`Code station Sandre`))
# unique() supprime les doublons
# length() renvoie la taille du vecteur (donc le nombre de stations Sandre ici)
donnees$`Code station Sandre` %>% # et pareil donc avec `Code Station Onema` et `Nom usuel de l'espèce`
unique() %>%
length()
donnees %>%
group_by(`Nom usuel de l'espèce`) %>%
summarise(n = n())
temp = donnees %>%
group_by(`Nom usuel de l'espèce`) %>%
summarise(n = n())
ggplot(temp, aes(x = n, y = `Nom usuel de l'espèce`, fill = n)) +
geom_bar(stat = "identity")
ggplot(temp, aes(x = n, y = fct_reorder(`Nom usuel de l'espèce`, n), fill = n)) +
geom_bar(stat = "identity")
ggplot(temp, aes(x = n, y = fct_reorder(`Nom usuel de l'espèce`, n), fill = n)) +
geom_bar(stat = "identity") +
theme_minimal() +
labs(x = "", y = "", fill = "Nombre de pèches") +
scale_fill_gradient(low = "yellow", high = "orange")
ggplot(temp, aes(x = n, y = fct_reorder(`Nom usuel de l'espèce`, n), fill = n)) +
geom_bar(stat = "identity") +
theme_minimal() +
labs(x = "", y = "", fill = "Nombre de pèches") +
scale_fill_gradient(low = "lightblue", high = "orange")
ggplot(temp, aes(x = n, y = fct_reorder(`Nom usuel de l'espèce`, n), fill = n)) +
geom_bar(stat = "identity") +
theme_minimal() +
labs(x = "", y = "", fill = "Nombre de\npèches") +
scale_fill_gradient(low = "lightblue", high = "orange")
ggplot(donnees, aes(x = "", y = `Methode de Prospection`)) +
geom_bar()
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar()
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill")
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y")
library(scales)
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percen)
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent)
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
theme_minimal() +
labs(x = "", y = "", fill = "Méthode de prospection")
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
theme_minimal() +
labs(x = "", y = "")
?scale_fill_brewer
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer("Dark2") +
theme_minimal() +
labs(x = "", y = "")
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Dark2") +
theme_minimal() +
labs(x = "", y = "")
ggplot(donnees, aes(x = "", fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
ggplot(donnees, aes(x = "", fill = `Moyen de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
ggplot(donnees, aes(x = "", fill = `Moyen de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
View(donnees)
View(donnees)
ggplot(donnees, aes(x = `Moyen de Prospection`, fill = `Methode de Prospection`)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
donnees %>%
group_by(Département) %>%
summarise(nbCommunes = n_distinct(`Code Insee`))
temp2 = donnees %>%
group_by(Département) %>%
summarise(nbCommunes = n_distinct(`Code Insee`))
ggplot(temp2, aes(x = "", fill = nbCommunes)) +
geom_bar(position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp2, aes(x = "", fill = nbCommunes)) +
geom_bar(position = "fill")
temp2
ggplot(temp2, aes(x = "", fill = nbCommunes)) +
geom_bar(stat = "identity", position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp2, aes(x = "", fill = nbCommunes)) +
geom_bar(stat = "identity", position = "fill")
ggplot(temp2, aes(x = "", y = nbCommunes, fill = nbCommunes)) +
geom_bar(stat = "identity", position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp2, aes(x = "", y = nbCommunes, fill = nbCommunes)) +
geom_bar(stat = "identity", position = "fill")
ggplot(temp2, aes(x = "", y = nbCommunes, fill = Département)) +
geom_bar(stat = "identity", position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_brewer(palette = "Accent") +
theme_minimal() +
labs(x = "", y = "")
temp2
ggplot(temp2, aes(x = "", y = nbCommunes, fill = Département)) +
geom_bar(stat = "identity", position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("red3", "steelblue", "lightgreen")) +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp2, aes(x = "", y = nbCommunes, fill = Département)) +
geom_bar(stat = "identity", position = "fill") +
coord_polar(theta = "y") +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
theme_minimal() +
labs(x = "", y = "")
temp3 = donnees %>%
group_by(Département) %>%
summarise(nbPeches = n())
temp3
ggplot(temp2, aes(x = Département, y = nbCommunes, fill = Département)) +
geom_bar(stat = "identity", position = "fill") +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp2, aes(x = Département, y = nbCommunes, fill = Département)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
theme_minimal() +
labs(x = "", y = "")
temp3
ggplot(temp3, aes(x = Département, y = nbCommunes, fill = Département)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp3, aes(x = Département, y = nbPeches, fill = Département)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp3, aes(x = fct_reorder(Département, nbPeches), y = nbPeches, fill = Département)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp3, aes(x = fct_reorder(Département, nbPeches, .desc = TRUE), y = nbPeches, fill = Département)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp3, aes(x = fct_reorder(Département, nbPeches, .desc = TRUE),
y = nbPeches, fill = Département)) +
geom_bar(stat = "identity") +
scale_fill_manual(values = c("red3", "steelblue", "green3")) +
scale_x_discrete(labels = c("Orne", "Manche", "Calvados")) +
theme_minimal() +
labs(x = "", y = "")
temp4 = donnees %>%
group_by(Département, year(`Date de pêche`)) %>%
summarise(nbPeches = n())
temp4
temp4 = donnees %>%
mutate(annee = year(`Date de pêche`)) %>%
group_by(Département, annee) %>%
summarise(nbPeches = n())
temp4
ggplot(temp4, aes(x = annee,
y = nbPeches, color = Département)) +
geom_line() +
scale_color_manual(values = c("red3", "steelblue", "green3"),
labels = c("Orne", "Manche", "Calvados")) +
theme_minimal() +
labs(x = "", y = "")
temp3
ggplot(temp4, aes(x = annee,
y = nbPeches, color = Département)) +
geom_line() +
scale_color_manual(values = c("green3", "steelblue", "red3"),
labels = c("Calvados", "Manche", "Orne")) +
theme_minimal() +
labs(x = "", y = "")
ggplot(temp4, aes(x = annee,
y = nbPeches, color = Département)) +
geom_line() +
scale_color_manual(values = c("red3", "steelblue", "green3"),
labels = c("Calvados", "Manche", "Orne")) +
theme_minimal() +
labs(x = "", y = "")
donnees = read_csv("statistiques-de-controle-des-peches.csv")
View(donnees)
donnees = read_csv("~/Downloads/statistiques-de-controle-des-peches.csv")
View(donnees)
unique(donnees$facade)
